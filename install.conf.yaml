# Setup
- create:
    - ~/.config
    - ~/.local/share
    - ~/.cache
    - ~/dotfiles
    - ~/bin
    - ~/workspace
    - ~/.local/share/pandoc

- shell:
    #- [chsh -s $(which zsh), Making `zsh` the default shell...]
    - [git submodule update --init --recursive, Installing submodules...]


# Remove dead symlinks
- clean:
    ~/:
    ~/.config:
      recursive: true
    ~/.config/mypy:
      force: true


# Install config
- defaults:
    link:
        create: true
        relink: true

- link:
    # Configs
    ~/.config/alacritty/alacritty.yml: alacritty.yml
    ~/.config/bash: bash
    ~/.config/bat/config: bat.conf
    ~/.config/git: git
    ~/.config/mypy/config: mypy.conf
    ~/.config/nvim: nvim
    ~/.config/shell: shell
    ~/.config/zfunc: zfunc
    ~/.config/zsh: zsh
    # Profiles
    ~/.inputrc:
      #~/.lessrc:
    ~/.zshrc: zsh/zshrc
    ~/.bashrc: bash/bashrc
      #~/.tmux.conf:
    ~/.cargo/config.toml: cargo.toml
    ~/.local/share/pandoc/defaults/base.yaml: pandoc.conf
    # Colors
    ~/.config/dircolors: dircolors
    ~/.config/user-dirs.dirs: user-dirs.dirs
    ~/.config/starship/config.toml: starship/config.toml
    ~/.config/zellij/zellij.yaml: zellij/config.yaml
    ~/.config/luarocks/config-5.3.lua: luarocks/config-5.3.lua

# Mypy plugins
- shell:
    -
      command: curl -sL -o "$HOME/.config/mypy/#1.py" "https://raw.githubusercontent.com/python/mypy/master/mypy/plugins/{functools,enums,dataclasses}.py"
      description: "Downloading plugins for MyPy Python linter..."

